<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookmark</title>
    <link rel="shortcut icon" href="../Fontawesome/fontawesome-free-6.4.0-web/svgs/regular/sun.svg" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />


<style>
    /*Checkbox-icon  */
    .material-symbols-outlined {
        color: blue;
        font-variation-settings:
        'FILL' 100,
        'wght' 300,
        'GRAD' 0,
        'opsz' 48
    }
   .save-section:checked ~ .material-symbols-outlined{
    font-variation-settings:
        'FILL' 0,
        'wght' 300,
        'GRAD' 0,
        'opsz' 48
   }
    input[type="checkbox"] {
        display: none;
    }  
</style>

</head>
<body>
    <nav class="navbar navbar-expand-sm p-1 bg-primary navbar-dark sticky-top">
        <div class="container-fluid d-flex flex-row my-2">
            <div class="navbar-brand flex-nowrap mx-0">
                <a href="N2-page1.html" class="btn my-0 p-0">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="18" height="25"><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z" fill="white"/></svg>
                </a>
            </div>
            <h6 class="nav nav-item mx-auto text-white m-0 p-0">N2 | Bookmark</h6>
        </div>
    </nav>
    
    <div id="saved-sections"></div>

    <script>
        const savedSectionsDiv = document.getElementById('saved-sections');
        const storageKeyPrefix = 'savedSection-';
        
        //Loop through the saved sections in local storage
        for (let i = 0; i< localStorage.length; i++) {
          const key = localStorage.key(i);
           if (key.startsWith(storageKeyPrefix)) {
            const sectionHTML = localStorage.getItem(key);
            savedSectionsDiv.innerHTML += sectionHTML;
           }
        }

        //Remove saved section when checkbox is unchecked
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach((checkbox, index) => {
            checkbox.addEventListener('change', function() {
                // const section = checkbox.parentNode;
                const  storageKey = storageKeyPrefix + index;

                if(!checkbox.checked){
                    localStorage.removeItem(storageKey, savedSectionsDiv.innerHTML);
                    // section.remove();
                }
                //else{
                    // localStorage.setItem(storageKey, savedSectionsDiv.outerHTML);
                    //localStorage.clear();
                //}
            });
        });

    </script>
     
        
       <script>
        // Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList  = tooltipTriggerList.map (function(tooltipTriggerEl){
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })
    </script>
 
</body>
</html>
